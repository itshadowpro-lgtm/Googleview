<!DOCTYPE html><html>
<head>
  <meta charset="UTF-8" />
  <title>Personal Google Drive AppData Viewer</title>
  <script src="https://apis.google.com/js/api.js"></script>
  <style>
    body { font-family: 'Inter', sans-serif; padding: 30px; background: #f5f7fb; color: #222; }
    h2 { font-size: 26px; font-weight: 700; margin-bottom: 10px; }
    button { padding: 12px 20px; font-size: 16px; border-radius: 10px; border: none; background: #4A7BFF; color: white; cursor: pointer; transition: 0.3s; }
    button:hover { background: #245ef5; }
    #content { margin-top: 25px; }.file { padding: 15px; background: white; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.06); margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; }

.file-info { max-width: 70%; }
.file-name { font-size: 17px; font-weight: 600; }
.file-id { font-size: 12px; color: #666; }

.download-btn { padding: 8px 12px; background: #19c37d; color: white; border-radius: 8px; text-decoration: none; transition: 0.3s; }
.download-btn:hover { background: #0e9f63; }

  </style>
</head>
<body>
  <h2>Your Personal Google Drive Hidden AppData Viewer</h2>
  <button onclick="handleAuthClick()">Sign in with Google</button>
  <div id="content"></div>  <script>
    const CLIENT_ID = "1024845283296-n3lh9qmdv4akc40566uc4h17vrom7r1b.apps.googleusercontent.com";
    const API_KEY = "AIzaSyC42hynbKSNAwebVD_jpX87OsDvv7G--V8";
    const SCOPES = "https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.readonly";

    function gapiLoaded() { gapi.load('client:auth2', initClient); }

    function initClient() {
      gapi.client.init({ apiKey: API_KEY, clientId: CLIENT_ID, scope: SCOPES })
        .then(() => { console.log("Google API initialized"); });
    }

    function handleAuthClick() {
      gapi.auth2.getAuthInstance().signIn().then(listAppDataFiles);
    }

    function listAppDataFiles() {
      gapi.client.drive.files.list({ spaces: "appDataFolder", fields: "files(id, name, size)" })
        .then(response => {
          const files = response.result.files;
          const div = document.getElementById("content");
          div.innerHTML = "<h3>Hidden AppData Files:</h3>";

          if (!files || files.length === 0) {
            div.innerHTML += "<p>No hidden files found.</p>";
            return;
          }

          files.forEach(f => {
            const url = `https://www.googleapis.com/drive/v3/files/${f.id}?alt=media`;
            const token = gapi.auth.getToken().access_token;
            div.innerHTML += `
              <div class='file'>
                <div class='file-info'>
                  <div class='file-name'>${f.name}</div>
                  <div class='file-id'>ID: ${f.id}</div>
                </div>
                <a class='download-btn' href='${url}&access_token=${token}' download='${f.name}'>Download</a>
              </div>`;
          });
        });
    }

    window.onload = () => {
      const script = document.createElement("script");
      script.src = "https://apis.google.com/js/api.js?onload=gapiLoaded";
      document.body.appendChild(script);
    };
  </script></body>
</html>
